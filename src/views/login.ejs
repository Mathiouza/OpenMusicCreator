<!DOCTYPE html>
<html>
    <head>
        <meta charset="utf-8" />
		<link rel="stylesheet" href="login.css" />
        <title>Login - OpenMusicCreator</title>
    </head>
    <body>
    	<div id="corps">
	    	<!-- Background -->
	    	<link href='https://fonts.googleapis.com/css?family=Lato:300,400,700' rel='stylesheet' type='text/css'>
			<div id='stars'></div>
			<div id='stars2'></div>
			<div id='stars3'></div>

			<h1><span class="letter-color">O</span>pen <span class="letter-color">M</span>usic <span class="letter-color">C</span>reator</h1>
				<button id="btn1" onclick="afficher(form1, form2);"><div id="textlog">Sign in</div></button>
				<!-- <div id="signin"><button id="btn1" onclick="afficher(form2);">Sign in</button></div> -->

                <div id="player">
                    <audio preload="auto" src="music/test.mp3" id="audio" controls >Your browser does not support HTML5 Audio!</audio>
                </div>

		</div>
			<div id="modal-log">
				<form id="formlog" method="post" action="/login">
					<span class="close" onclick="fermer(form1);">&times;</span>
						<p>
						<div id="userlabel">Username :</div>
						<input type="username" name="username" id="username" placeholder="Username" required>
						<div id="passlabel">Password :</div>
						<input type="password" name="password" id="password" placeholder="Password" required>
						</p>
						<button id="submit">Submit</button>
						<p><a onclick="afficher(form2, form1);">Sign in</a></p>
					
				</form>
			</div>

			<div id="modal-sign">
				<form id="formsign" method="post" action="/signin">
					<span class="close" onclick="fermer(form2);">&times;</span>
					<p>
					<div id="userlabel2">Username :</div>
					<input type="username" name="usernamesign" id="usernamesign" placeholder="Username" required>
					<div id="passlabel2">Password :</div>
					<input type="password" name="passwordsign" id="passwordsign" placeholder="Password" required>
					<div id="passlabelagain">Password again :</div>
					<input type="password" name="passwordagain" id="passwordagain" placeholder="Again" required>
					<div id="err-pass" style="color: rgb(255, 0, 0); display: none;">Password error</div>
					</p>
					<button id="submit">Submit</button>
					<p><a onclick="afficher(form1, form2);">I already have an account</a></p>
				</form>
			</div>
		</div>


        <div id="footer">
            <p>Created by Mathiouza & Sourciluss / 2018</p>
        </div>

		<script type="text/javascript">
			var elmt = document.getElementById("corps");
    		function afficher(form, form2) {
    			toggleBackground(1);
    			dispReste();
    			if(form.style.display == "none") {
    				form.style.display = "block";
    				elmt.setAttribute("class", "blur");
    			}
    			else {
    				form.style.display = "none";
    			}
    			if(form2.style.display == "block") {
    				form2.style.display = "none";
    			}
    		}
    		
    		function fermer(form) {
    			toggleBackground(0);
    			form.style.display = "none";
    			elmt.setAttribute("class", null);
    		}

    		window.onclick = function(event) {
    			if(event.target == form1) {
    				form1.style.display = "none";
    				elmt.setAttribute("class", null);
    				toggleBackground(0);
    			}
    			if(event.target == form2) {
    				form2.style.display = "none";
    				elmt.setAttribute("class", null);
    				toggleBackground(0);
    			}
    		};

            var btn = document.getElementById("btn1");

            btn1.addEventListener("mouseover", function(event) {
                var textlog = document.getElementById("textlog");
                textlog.style.color = "#6E6E6E";
            });
            btn1.addEventListener("mouseout", function(event) {
                var textlog = document.getElementById("textlog");
                textlog.style.color = "#fff";
            });

    		var form1 = document.getElementById("modal-log");
    		var form2 = document.getElementById("modal-sign");

    		form1.style.display = "none";
    		form2.style.display = "none";

    		//Verif pass identiques
    		setInterval(function() {
				var p1 = document.getElementById("passwordsign");
    			var p2 = document.getElementById("passwordagain");

    			var epass = document.getElementById("err-pass");

	    		if(p2.value != "" && p1.value != p2.value) {
	    			epass.style.display = "";
	    		}
	    		else {
	    			epass.style.display = "none";
	    		}
    		}, 1000);

    		toggleBackground(0);
    		//Pause et resume du background
    		function toggleBackground(i) {
    			var stars = document.getElementById("stars");
    			var stars2 = document.getElementById("stars2");
    			var stars3 = document.getElementById("stars3");

    			if(i) {
    				stars.style.animation = "";
    				stars2.style.animation = "";
    				stars3.style.animation = "";
    			}
    			if(!i) {
    				stars.style.animation = "animStar 150s linear infinite";
    				stars2.style.animation = "animStar 200s linear infinite";
    				stars3.style.animation = "animStar 250s linear infinite";
    			}

    		}

    		/* GÃ¨re le player a partir d'ici */
            var btnplay = document.getElementById("btn-play");

           
    	</script>

    </body>
</html>